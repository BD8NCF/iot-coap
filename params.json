{"name":"Iot-coap","tagline":"物联网系统设计","body":"\r\n[![Build Status](https://api.travis-ci.org/gmszone/iot-coap.png)](https://travis-ci.org/gmszone/iot-coap)\r\n\r\n\r\n[![NPM](https://nodei.co/npm/iot-coap.png)](https://nodei.co/npm/iot-coap/)\r\n\r\n[![NPM](https://nodei.co/npm-dl/iot-coap.png)](https://nodei.co/npm/iot-coap/)\r\n\r\n#物联网系统 CoAP版\r\n\r\n这是一个开源的最小物联网系统的CoAP版，如果你还是一个初学者建议用HTTP版 [https://github.com/gmszone/iot][iot]\r\n\r\n##主要依赖库\r\n\r\n - RESTify\r\n - [Node-CoAP](https://github.com/mcollina/node-coap)\r\n - Node Sqlite3\r\n\r\n##install\r\n\r\n    npm install iot-coap\r\n\r\n新建一个index.js\r\n\r\n    const iotcoap         = require('iot-coap');\r\n\r\n    iotcoap.run();\r\n    iotcoap.rest.run(); //运行REST\r\n\r\n创建iot.json\r\n\r\n    {\r\n        \"db_name\": \"iot.db\",\r\n        \"table_name\": \"basic\",\r\n        \"key\":[\r\n            \"id\",\r\n            \"value\",\r\n            \"sensors1\",\r\n            \"sensors2\"\r\n        ],\r\n        \"db_table\": \"id integer primary key, value text, sensors1 float, sensors2 float\",\r\n        \"init_table\":[\r\n            \"insert or replace into basic (id,value,sensors1,sensors2) VALUES (1, 'is id 1', 19, 20);\",\r\n            \"insert or replace into basic (id,value,sensors1,sensors2) VALUES (2, 'is id 2', 20, 21);\"\r\n        ],\r\n        \"query_table\":\"select * from basic;\",\r\n        \"rest_url\": \"/id/:id\",\r\n        \"rest_post_url\": \"/\",\r\n        \"rest_port\": 8848\r\n    }\r\n\r\n接着运行\r\n\r\n    node index.js\r\n\r\n###Test\r\n\r\n    node method_test/get.js\r\n    \r\n###REST Test\r\n    \r\n####POST\r\n    \r\n    curl -H \"Content-Type: application/json\" -d '{\"id\":3, \"value\":\"dream\",\"sensors1\":12,\"sensors2\":13}' http://localhost:8848\r\n\r\n##文档\r\n\r\n[CoAP与物联网系统][basic]\r\n\r\n[物联网系统与CoAP之Hello,World][hello]\r\n\r\n[CoAP与物联网系统之返回JSON][returnjson]\r\n\r\n[构建基于CoAP SQLite Nodejs的物联网之查询数据][querydb]\r\n\r\n[构建基于CoAP SQLite Nodejs的物联网之数据库][db]\r\n\r\n## Liscense\r\n\r\n© 2014 [Phodal Huang](http://www.phodal.com). This code is distributed under the MIT license.\r\n\r\n[iot]: https://github.com/gmszone/iot\r\n[basic]: http://www.phodal.com/blog/use-constrained-application-protocol-in-internet-of-things/\r\n[hello]: http://www.phodal.com/blog/use-node-coap-create-a-coap-server/\r\n[returnjson]: http://www.phodal.com/blog/use-coap-build-internet-of-things-return-json/\r\n[querydb]: http://www.phodal.com/blog/use-node-coap-sqlite-create-a-coap-server-get-response/\r\n[db]: http://www.phodal.com/blog/use-coap-nodejs-sqlite-build-iot/\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}